#Load From fallback
[Global]
FallbackTheme=_fallback

[ScreenThemeTest]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenWarning"
PrevScreen="ScreenInit"
TimerSeconds=100
TimerStealth=true

[ScreenInit]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenWarning"
TimerSeconds=1
TimerStealth=true

[ScreenWarning]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenCompany"
PrevScreen="ScreenAlbums"
TimerSeconds=5
TimerStealth=true
ForceTimer=true
AllowStartToSkip=true

[ScreenCompany]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen="ScreenWarning"
NextScreen="ScreenIntroMovie"
TimerSeconds=5.705
TimerStealth=true
ForceTimer=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
AllowStartToSkip=true

[ScreenComHome]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen="ScreenWarning"
NextScreen="ScreenIntroMovie"
TimerSeconds=10.2
TimerStealth=true
ForceTimer=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
AllowStartToSkip=true

[ScreenIntroMovie]
Class="ScreenAttract"
PrevScreen="ScreenCompany"
Fallback="ScreenAttract"
NextScreen="ScreenLogo"
TimerSeconds=16
TimerStealth=true
ForceTimer=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
AllowStartToSkip=true

[ScreenLogo]
Fallback="ScreenAttract"
PrevScreen=Branch.Init()
NextScreen="ScreenHowToPlay"
StartScreen=Branch.TitleMenu()
TimerSeconds=8.542
ForceTimer=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
TimerOnCommand=visible,false

[ScreenHowToPlay]
NextScreen="ScreenAlbums"
SecondsToShow=25
TimerMetricsGroup="MenuTimerWithoutHurryUp"

[ScreenAlbums]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen="ScreenHowToPlay"
NextScreen="ScreenDemonstration"
PlayMusic=true
TimerSeconds=18
TimerStealth=true
ForceTimer=true
AllowStartToSkip=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"

[ScreenDemonstration]
SecondsToShow=25
NextScreen="ScreenHowToPlay2"
PrevScreen="ScreenAlbums"
DifficultiesToShow="easy,medium"
ScoreP1OnCommand=visible,false
ScoreP2OnCommand=visible,false

[ScreenHowToPlay2]
Class="ScreenHowToPlay"
Fallback="ScreenHowToPlay"
PrevScreen="ScreenDemonstration"
NextScreen="ScreenRanking"

[ScreenRanking]
Class="ScreenRanking"
Fallback="ScreenAttract"
PrevScreen="ScreenHowToPlay"
NextScreen="ScreenMemoryCard"
PlayMusic=true
TimerSeconds=25
TimerStealth=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
ForceTimer=true
ResetGameState=true
PageFadeSeconds=1.0

[ScreenMemoryCard]
Class="ScreenAttract"
Fallback="ScreenAttract"
PrevScreen="ScreenRanking"
NextScreen="ScreenWarning"
TimerSeconds=8
TimerStealth=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"
ForceTimer=true
AllowStartToSkip=true

[ScreenGameOver]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenRanking"
PrevScreen="ScreenInit"
TimerMetricsGroup="MenuTimerWithoutHurryUp"
ForceTimer=true
TimerStealth=true
TimerSeconds=14
AllowStartToSkip=true

[ScreenStageInformation]
TimerSeconds=2.266
TimerStealth=true
ForceTimer=true
TimerMetricsGroup="MenuTimerWithoutHurryUp"

[ScreenTitleJoin]
Fallback="ScreenTitleMenu"
ChoiceNames="GameStart"
ChoiceGameStart="applydefaultoptions;text,Game Start;screen,ScreenSelectPlayMode"

# ScrollerOnCommand=visible,false
IdleCommentSeconds=-1
IdleTimeoutSeconds=-1
IdleTimeoutScreen=Branch.AfterInit()

[ScreenTitleMenu]
Class="ScreenTitleMenu"
Fallback="ScreenSelectMaster"

ShowIcon=true

ChoiceNames="Arcade,Event,Endless,Training,Edit,NSOrder,NSRevo,Records,Option,Info,Bonus,Disc,Quit"
DefaultChoice="Arcade"
ChoiceArcade="screen,ScreenSelectPlayMode;style,single;applydefaultoptions;text,ARCADE MODE"
ChoiceEvent="screen,ScreenThemeTest;text,EVENT MODE"
ChoiceEndless="screen,ScreenThemeTest;text,ENDLESS"
ChoiceTraining="screen,ScreenThemeTest;text,TRAINING"
ChoiceEdit="screen,ScreenThemeTest;text,EDIT"
ChoiceNSOrder="screen,ScreenThemeTest;text,NON STOP ORDER"
ChoiceNSRevo="applydefaultoptions;playmode,nonstop;style,single;screen,ScreenSelectCourse;setenv,sMode,Nonstop;text,NON STOP REVOLUTION"
ChoiceRecords="screen,ScreenThemeTest;text,RECORDS"
ChoiceOption="screen,ScreenOptionsHome;text,OPTION"
ChoiceInfo="screen,ScreenThemeTest;text,INFORMATION"
ChoiceBonus="screen,ScreenThemeTest;text,BONUS TRACK"
ChoiceDisc="screen,ScreenDisc;text,DISC CHANGE"
ChoiceQuit="screen,ScreenExit;text,QUIT GAME"

[ScreenDisc]
Class="ScreenAttract"
Fallback="ScreenAttract"
NextScreen="ScreenTitleMenu"
PrevScreen="ScreenTitleMenu"
TimerSeconds=-1
TimerStealth=true

[ScreenOptionsHome]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimpleService"
NextScreen=Branch.AfterInit()
PrevScreen=Branch.AfterInit()
LineNames="Sound,Key,Memory,Game,Music,Graphic,Diet,Bg,Secret,ThemePref"
LineSound="gamecommand;screen,ScreenThemeTest;name,SOUND OPTION"
LineKey="gamecommand;screen,ScreenMapControllers;name,KEY CONFIGURATION"
LineMemory="gamecommand;screen,ScreenThemeTest;name,MEMORY CARD"
LineGame="gamecommand;screen,ScreenOptionsArcade;name,GAME OPTION"
LineMusic="gamecommand;screen,ScreenThemeTest;name,MUSIC SELECT"
LineGraphic="gamecommand;screen,ScreenThemeTest;name,GRAPHIC OPTION"
LineDiet="gamecommand;screen,ScreenThemeTest;name,DIET OPTION"
LineBg="gamecommand;screen,ScreenThemeTest;name,BG COLLECTION"
LineSecret="gamecommand;screen,ScreenOptionsSM;name,SECRET"
LineThemePref="gamecommand;screen,ScreenOptionsTheme;name,THEME OPTIONS"

[ScreenOptionsTheme]
Fallback="ScreenOptionsServiceChild"
NextScreen="ScreenOptionsHome"
PrevScreen="ScreenOptionsHome"
LineNames="BOOT,SONGOPT,COMBOU,HDEFNS"
LineBOOT="lua,ThemePrefRow('BOOT')"
LineSONGOPT="lua,ThemePrefRow('SONGOPT')"
LineCOMBOU="lua,ThemePrefRow('COMBOU')"
LineHDEFNS="lua,ThemePrefRow('HDEFNS')"

[ScreenOptionsSM]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsSimpleService"
OptionRowNormalMetricsGroup="OptionMainRowAC"
ShowExplanations=false
ShowCreditDisplay=false
ShowExitRow=false
NumRowsShown=20
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-185+(16*offsetFromCenter)); self:x(SCREEN_CENTER_X-138); end

NextScreen=Branch.AfterInit()
PrevScreen=Branch.AfterInit()
LineNames="GameType,GraphicSound,KeyConfig,Arcade,InputOptions,SoundGraphics,Profiles,Network,Advanced,Reload,Credits,Exit"

LineSync="gamecommand;screen,ScreenGameplaySyncMachine;name,Calibrate Machine Sync"
LineGameType="gamecommand;screen,ScreenSelectGame;name,Select Game"
LineKeyConfig="gamecommand;screen,ScreenMapControllers;name,Key Joy Mappings"
LineTestInput="gamecommand;screen,ScreenTestInput;name,Test Input"
LineInput="gamecommand;screen,ScreenOptionsInput;name,Input Options"
LineReload="gamecommand;screen,ScreenReloadSongs;name,Reload Songs"
LineArcade="gamecommand;screen,ScreenOptionsArcade;name,Arcade Options"
LineAppearance="gamecommand;screen,ScreenAppearanceOptions;name,Appearance Options"
LineBGFit="gamecommand;screen,ScreenSetBGFit;name,Set BG Fit Mode"
LineOverscan="gamecommand;screen,ScreenOverscanConfig;name,Overscan Correction"
LineGraphicSound="gamecommand;screen,ScreenOptionsGraphicsSound;name,Graphics/Sound Options"
LineProfiles="gamecommand;screen,ScreenOptionsManageProfiles;name,Profiles"
LineNetwork="gamecommand;screen,ScreenNetworkOptions;name,Network Options"
LineUI="gamecommand;screen,ScreenOptionsUI;name,UI Options"
LineAdvanced="gamecommand;screen,ScreenOptionsAdvanced;name,Advanced Options"
LineMoreOptions="gamecommand;screen,ScreenOptionsExtended;name,More Options"
LineCredits="gamecommand;screen,ScreenCredits;name,StepMania Credits"
LineSoundGraphics="gamecommand;screen,ScreenOptionsDisplaySub;name,Display Options"
LineInputOptions="gamecommand;screen,ScreenOptionsInputSub;name,InputOptions"
LineExit="gamecommand;screen,ScreenInit;name,EXIT"

[ScreenOptionsService]
OptionRowNormalMetricsGroup="OptionMainRowAC"
ShowExplanations=false
ShowCreditDisplay=false
LineNames="IO,Screen,Color,Flash,Dip,Cg,Memory,Sound,Game,Coin,Book,Lamp,Secret,All,Ddr"
LineIO="gamecommand;screen,ScreenIOChk;name,I/O CHECK"
LineScreen="gamecommand;screen,ScreenVideoChk;name,SCREEN CHECK"
LineColor="gamecommand;screen,ScreenColorChk;name,COLOR CHECK"
LineFlash="gamecommand;screen,ScreenFlashRomChk;name,FLASH ROM CHECK"
LineDip="gamecommand;screen,ScreenDipSChk;name,DIP SWITCH CHECK"
LineCg="gamecommand;screen,ScreenCGChk;name,CG CHECK"
LineMemory="gamecommand;screen,ScreenMemoryChk;name,MEMORY CARD OPTIONS"
LineSound="gamecommand;screen,ScreenSoundChk;name,SOUND OPTIONS"
LineGame="gamecommand;screen,ScreenGameOpt;name,GAME OPTIONS"
LineCoin="gamecommand;screen,ScreenCoinOpt;name,COIN OPTIONS"
LineBook="gamecommand;screen,ScreenBookChk;name,BOOKKEEPING"
LineLamp="gamecommand;screen,ScreenLampChk;name,LAMP CHECK"
LineSecret="gamecommand;screen,ScreenOptionsSM;name,SECRET"
LineAll="gamecommand;screen,ScreenAllSet;name,ALL FACTORY SETTING"
LineDdr="gamecommand;screen,ScreenInit;name,GAME MODE"

NumRowsShown=15
ShowExitRow=false
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-185+(16*offsetFromCenter)); self:x(SCREEN_CENTER_X-138); end

[ScreenSelectPlayMode]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
NextScreen="ScreenSelectMusic"
PrevScreen="ScreenLogo"
WaitForChildrenBeforeTweeningOut=true
TimerSeconds=15
ShowScroller=false

ChoiceNames="1,2,3,4"
DefaultChoice="1"
Choice1="name,TopLeft;screen,ScreenSelectMusic"
Choice2="name,TopRight;screen,ScreenSelectMusic"
Choice3="name,BotLeft;screen,ScreenSelectMusic"
Choice4="name,BotRight;screen,ScreenSelectMusic"

[OptionRowAC]
Fallback="OptionRow"
ShowUnderlines=false
FrameX=0
FrameY=0
FrameOnCommand=
TitleX=SCREEN_CENTER_X-289
TitleY=0
TitleOnCommand=uppercase,true;horizalign,left;wrapwidthpixels,340
TitleGainFocusCommand=diffuse,color("1,0,0,1")
TitleLoseFocusCommand=diffuse,color("1,1,1,1")
ItemsStartX=SCREEN_CENTER_X-120
ItemsEndX=SCREEN_CENTER_X+280
ItemsGapX=SCREEN_WIDTH
ItemsMinBaseZoom=1
ItemOnCommand=uppercase,true;horizalign,left
ColorSelected=color("0,1,0,1")
ColorNotSelected=color("1,1,1,1")

[OptionMainRowAC]
Fallback="OptionRowAC"
TitleOnCommand=uppercase,true;horizalign,center
TitleGainFocusCommand=diffuse,color("1,0,0,1")
TitleLoseFocusCommand=diffuse,color("1,1,1,1")
ColorSelected=color("1,0,0,1")
ColorNotSelected=color("0.5,0.5,0.5,1")

[ScreenOptionsServiceAC]
Fallback="ScreenOptionsService"
OptionRowNormalMetricsGroup="OptionRowAC"
ShowCreditDisplay=false

[ScreenIOChk]
Class="ScreenTestInput"
Fallback="ScreenOptionsServiceChild"
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenVideoChk]
Class="ScreenSplash"
Fallback="ScreenSplash"
AllowStartToSkip=true
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenColorChk]
Class="ScreenSplash"
Fallback="ScreenSplash"
ShowCreditDisplay=false
AllowStartToSkip=true
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenFlashRomChk]
Class="ScreenTestInput"
Fallback="ScreenOptionsServiceChild"
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenDipSChk]
Class="ScreenSplash"
Fallback="ScreenSplash"
ShowCreditDisplay=false
AllowStartToSkip=true
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenCGChk]
Class="ScreenSplash"
Fallback="ScreenSplash"
AllowStartToSkip=true
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenMemoryChk]
Class="ScreenSplash"
Fallback="ScreenSplash"
AllowStartToSkip=true
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

[ScreenSoundChk]
Fallback="ScreenOptionsServiceAC"
ShowExplanations=false
LineNames="1,2,5,6,7"
Line1="lua,OptionRowDummySound()"
Line2="lua,OptionRowDummyAttractSnd()"
Line5="gamecommand;name,FACTORYSET"
Line6="gamecommand;screen,ScreenOptionsService;name,SAVEXIT"
Line7="gamecommand;screen,ScreenOptionsService;name,EXIT"

NumRowsShown=5
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-137+36*offsetFromCenter); self:x(40); end

[ScreenGameOpt]
Fallback="ScreenOptionsServiceAC"
ShowExplanations=false
LineNames="1,2,3,5,6,7"
Line1="conf,LifeDifficulty"
Line2="conf,SongsPerPlay"
Line3="conf,DefaultFailType"
Line5="gamecommand;name,FACTORYSET"
Line6="gamecommand;screen,ScreenOptionsService;name,SAVEXIT"
Line7="gamecommand;screen,ScreenOptionsService;name,EXIT"

NumRowsShown=6
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-137+28*offsetFromCenter) end

[ScreenCoinOpt]
Fallback="ScreenOptionsServiceAC"
ShowExplanations=false
LineNames="1,2,3,4,5,6,7"
Line1="conf,CoinMode"
Line2="conf,EventMode"
Line3="conf,CoinsPerCredit"
Line4="conf,Premium"
Line5="gamecommand;name,FACTORYSET"
Line6="gamecommand;screen,ScreenOptionsService;name,SAVEXIT"
Line7="gamecommand;screen,ScreenOptionsService;name,EXIT"

NumRowsShown=7
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-137+28*offsetFromCenter) end

[ScreenBookChk]
Class="ScreenBookkeeping"
Fallback="ScreenOptionsMaster"
ShowCreditDisplay=false
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"

AllTimeX=SCREEN_CENTER_X-225
AllTimeY=SCREEN_TOP+107
AllTimeOnCommand=diffuseshift;effectcolor1,0.9,0.9,0.9,1;horizalign,left;uppercase,true
TitleX=SCREEN_CENTER_X-225
TitleY=SCREEN_TOP+127
TitleOnCommand=horizalign,left;uppercase,true
DataX=0
DataY=SCREEN_CENTER_Y+16
DataOnCommand=uppercase,true

ShowSongPlays=false
ShowLastDays=true
ShowLastWeeks=true
ShowDayOfWeek=true
ShowHourOfDay=false

[ScreenLampChk]
Class="ScreenOptionsMaster"
Fallback="ScreenOptionsServiceAC"
PrevScreen="ScreenOptionsService"
NextScreen="ScreenOptionsService"
ShowExplanations=false

NumRowsShown=17
RowPositionTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) self:y(SCREEN_CENTER_Y-137+(16*offsetFromCenter)); self:x(40); end

LineNames="1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17"
Line1="gamecommand;name,FOOT1U"
Line2="gamecommand;name,FOOT1D"
Line3="gamecommand;name,FOOT1L"
Line4="gamecommand;name,FOOT1R"
Line5="gamecommand;name,FOOT2U"
Line6="gamecommand;name,FOOT2D"
Line7="gamecommand;name,FOOT2L"
Line8="gamecommand;name,FOOT2R"
Line9="gamecommand;name,ST1"
Line10="gamecommand;name,ST2"
Line11="gamecommand;name,BODYRL"
Line12="gamecommand;name,BODYRH"
Line13="gamecommand;name,BODYLL"
Line14="gamecommand;name,BODYLH"
Line15="gamecommand;name,SPEAK"
Line16="gamecommand;name,ALL"
Line17="gamecommand;screen,ScreenOptionsService;name,EXIT"

[ScreenAllSet]
Class="ScreenSelectMaster"
Fallback="ScreenSelectMaster"
ShowCreditDisplay=false
ShowScroller=true
WrapScroller=false
ShowIcon=false
SharedSelection=true
DefaultChoice="1"
ChoiceNames="1,2"
Choice1="screen,ScreenOptionsService;text,YES"
Choice2="screen,ScreenOptionsService;text,NO"

[Gameplay]
ComboIsPerRow=true

[GameState]
LockExtraStageSelection=false
DefaultSort="Preferred"

[HighScore]
EmptyName="DDR "

[MusicWheel]
SwitchSeconds=0.25
LockedInitialVelocity=9

ItemTransformFunction=function(self,offsetFromCenter,itemIndex,numItems) \
	self:x( math.sin(offsetFromCenter*(math.pi/4))*360 ); \
	self:y(math.cos(offsetFromCenter*(math.pi/4))*360); \
end
NumWheelItems=8

ShowRoulette=true
ShowRandom=false
ShowPortal=false

RouletteSwitchSeconds=0.10
RouletteSlowDownSwitches=2

[MusicWheelItem]
SectionCountOnCommand=zoom,0
SongNameOnCommand=zoom,0

[StreamDisplay]
PillTransformFunction=function(self) self:addy(-9999); end;

[SongManager]
ExtraStagePlayerModifiers="failimmediate,4 lives,battery"
OMESPlayerModifiers="failimmediate,1 lives,battery"

ExtraColorMeter=99
NumSongGroupColors=1
SongGroupColor1=BoostColor(Color("White"),1.25)
CourseGroupColor1=color("1,1,1,1")

[Combo]
ShowComboAt=4
ShowMissCombo=0

ComboLabelOnCommand=x,5;y,19;align,0,1
MissLabelOnCommand=x,5;y,19;align,0,1
NumberOnCommand=x,2;y,21;basezoom,1;align,1,1

PulseZoom=1.2
TweenSeconds=0.05

NumberMinZoom=1
NumberMaxZoom=1
NumberMaxZoomAt=100
LabelMinZoom=1
LabelMaxZoom=1

PulseCommand=%function(self,param) self:stoptweening(); self:zoom(1.2*param.Zoom); self:linear(0.05); self:zoom(param.Zoom); end
PulseLabelCommand=%function(self,param) self:stoptweening(); self:zoom(1.2*param.LabelZoom); self:linear(0.05); self:zoom(param.LabelZoom); end

[LifeMeterBattery]
NumLivesP1X=-9999
NumLivesP2X=9999
DangerThreshold=2

[LifeMeterBattery Percent]
DancePointsP1OnCommand=diffusealpha,0
DancePointsP2OnCommand=diffusealpha,0

[MenuTimer]
WarningBeepStart=5

[MenuTimerWithoutHurryUp]
Fallback="MenuTimer"
WarningBeepStart=0
HurryUpTransition=-1

[ScreenWithMenuElements]
TimerX=SCREEN_CENTER_X+236
TimerY=SCREEN_CENTER_Y+152

[ScreenGameplay]
StartGivesUp=false
SelectSkipsSong=false

ScoreFrameX=SCREEN_LEFT
ScoreFrameY=SCREEN_BOTTOM-43
ScoreFrameOnCommand=draworder,1
ScoreFrameOffCommand=

ScoreP1X=SCREEN_CENTER_X-204
ScoreP1Y=SCREEN_BOTTOM-49
ScoreP1OnCommand=draworder,1
ScoreP1OffCommand=
ScoreP2X=SCREEN_CENTER_X+204
ScoreP2Y=SCREEN_BOTTOM-49
ScoreP2OnCommand=draworder,1
ScoreP2OffCommand=

[ScreenSelectMusic]
TimerSeconds=60
BannerOnCommand=diffusealpha,0
MusicWheelOnCommand=%function(self,param) \
	if GAMESTATE:IsCourseMode() then \
		self:draworder(-1) \
		self:x(SCREEN_CENTER_X+183) \
		self:y(SCREEN_CENTER_Y-50) \
	else \
		self:draworder(-1) \
		self:zoom(.536) \
		self:fov(75); \
		self:rotationx(-60); \
		self:x(SCREEN_CENTER_X) \
		self:y(SCREEN_CENTER_Y-37) \
	end \
end